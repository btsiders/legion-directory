(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{UWHZ:function(e,n,i){"use strict";i.r(n);var t=i("ofXK"),o=i("3Pt+"),r=i("TEn/"),c=i("tyNb"),a=i("mrSG"),b=i("4Gbf"),s=i("fXoL");const d=function(e){return["/member",e]};function l(e,n){if(1&e&&(s.Ob(0,"ion-card",12),s.Ob(1,"ion-card-header"),s.Ob(2,"ion-item",13),s.Kb(3,"ion-icon",14),s.Ob(4,"ion-card-title"),s.nc(5," Verified "),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-card-content"),s.Ob(7,"h1"),s.Ob(8,"code"),s.nc(9),s.Nb(),s.Kb(10,"br"),s.nc(11," verified as"),s.Kb(12,"br"),s.nc(13," TKID "),s.Ob(14,"strong"),s.nc(15),s.Nb(),s.Kb(16,"br"),s.Nb(),s.Ob(17,"ion-button",15),s.nc(18,"View Member"),s.Nb(),s.Nb(),s.Nb()),2&e){const e=s.Yb();s.zb(9),s.oc(e.verifiedEmail),s.zb(6),s.oc(e.verifiedId),s.zb(2),s.dc("routerLink",s.fc(3,d,e.verifiedId))}}function u(e,n){if(1&e&&(s.Ob(0,"ion-card",16),s.Ob(1,"ion-card-header"),s.Ob(2,"ion-item",17),s.Kb(3,"ion-icon",18),s.Ob(4,"ion-card-title"),s.nc(5,"Not Verified"),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-card-content"),s.Ob(7,"h1"),s.Ob(8,"code"),s.nc(9),s.Nb(),s.Nb(),s.Ob(10,"h2"),s.nc(11),s.Nb(),s.Nb(),s.Nb()),2&e){const e=s.Yb();s.zb(9),s.oc(e.verifiedEmail),s.zb(2),s.pc(" ",e.errorMessage," ")}}const f=[{path:"",component:(()=>{class e{constructor(e){this.memberApiService=e,this.emailPattern=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,this.verifiedId=null,this.email=null,this.verifiedEmail=null,this.errorMessage=null}ngOnInit(){}verify(e){return Object(a.a)(this,void 0,void 0,(function*(){this.errorMessage=null,this.verifiedId=null;try{if(e.invalid)return;const n=yield this.memberApiService.verifyMemberEmail(e.value.email).toPromise();this.verifiedEmail=e.value.email,n.legionId?(console.log("legionId",n.legionId),this.verifiedId=n.legionId):(console.log("error",n.error),this.errorMessage=n.error)}catch(n){console.log("error caught",n),this.errorMessage=n}}))}}return e.\u0275fac=function(n){return new(n||e)(s.Jb(b.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-verify"]],decls:25,vars:4,consts:[["color","primary"],["slot","start"],["defaultHref","home"],[1,"ion-padding"],[1,"max-480"],["class","good status-card","color","success",4,"ngIf"],["class","bad status-card","color","danger",4,"ngIf"],[3,"ngSubmit"],["myForm","ngForm"],["name","email","autofocus","","required","","inputmode","email","type","email",3,"ngModel","pattern"],[1,"buttons"],["type","submit"],["color","success",1,"good","status-card"],["lines","none","color","success"],["name","shield-checkmark-outline","slot","start"],["color","success",3,"routerLink"],["color","danger",1,"bad","status-card"],["color","danger","lines","none"],["name","alert-circle-outline","slot","start"]],template:function(e,n){if(1&e){const e=s.Pb();s.Ob(0,"ion-header"),s.Ob(1,"ion-toolbar",0),s.Ob(2,"ion-buttons",1),s.Kb(3,"ion-menu-button"),s.Kb(4,"ion-back-button",2),s.Nb(),s.Ob(5,"ion-title"),s.nc(6,"Verify Member"),s.Nb(),s.Nb(),s.Nb(),s.Ob(7,"ion-content",3),s.Ob(8,"div",4),s.lc(9,l,19,5,"ion-card",5),s.lc(10,u,12,2,"ion-card",6),s.Ob(11,"ion-card"),s.Ob(12,"ion-card-content"),s.Ob(13,"ion-card-header"),s.Ob(14,"p"),s.nc(15," The Legion Member API can verify a member is active when passed the member's email address. It returns the TKID associated with the email address. "),s.Nb(),s.Nb(),s.Ob(16,"form",7,8),s.Wb("ngSubmit",(function(){s.ic(e);const i=s.hc(17);return n.verify(i)})),s.Ob(18,"ion-item"),s.Ob(19,"ion-label"),s.nc(20," Email: "),s.Nb(),s.Kb(21,"ion-input",9),s.Nb(),s.Ob(22,"div",10),s.Ob(23,"ion-button",11),s.nc(24," Verify "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()}2&e&&(s.zb(9),s.dc("ngIf",n.verifiedId),s.zb(1),s.dc("ngIf",n.errorMessage),s.zb(11),s.dc("ngModel",n.verifiedEmail)("pattern",n.emailPattern))},directives:[r.n,r.I,r.e,r.y,r.b,r.c,r.H,r.l,t.k,r.f,r.g,r.h,o.i,o.d,o.e,r.r,r.u,r.q,r.M,o.h,o.c,o.f,o.g,r.d,r.o,r.j,r.L,c.h],styles:[".max-480[_ngcontent-%COMP%]{max-width:480px}.buttons[_ngcontent-%COMP%]{margin-top:16px;text-align:right}.status-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:0}.status-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:32px 16px;margin:0 8px 8px;border-radius:0 0 4px 4px;text-align:center}ion-item[_ngcontent-%COMP%]{--highlight-color-focused:var(--ion-text-color);--highlight-color-valid:var(--ion-text-color)}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(n){return new(n||e)},imports:[[c.j.forChild(f)],c.j]}),e})();i.d(n,"VerifyPageModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(n){return new(n||e)},imports:[[t.c,o.a,r.J,m]]}),e})()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{UWHZ:function(e,n,r){"use strict";r.r(n);var t=r("ofXK"),i=r("3Pt+"),o=r("TEn/"),c=r("tyNb"),a=r("mrSG"),b=r("4Gbf"),s=r("fXoL");const d=function(e){return["/member",e]};function l(e,n){if(1&e&&(s.Ob(0,"ion-card",11),s.Ob(1,"ion-card-header"),s.Ob(2,"ion-item",12),s.Kb(3,"ion-icon",13),s.Ob(4,"ion-card-title"),s.nc(5," Verified "),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-card-content"),s.Ob(7,"h1"),s.nc(8),s.Kb(9,"br"),s.nc(10," verified as"),s.Kb(11,"br"),s.nc(12),s.Kb(13,"br"),s.Ob(14,"ion-button",14),s.nc(15,"View Profile"),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&e){const e=s.Yb();s.zb(8),s.pc(" ",e.verifiedEmail,""),s.zb(4),s.pc(" TKID ",e.verifiedId,""),s.zb(2),s.dc("routerLink",s.fc(3,d,e.verifiedId))}}function u(e,n){if(1&e&&(s.Ob(0,"ion-card",15),s.Ob(1,"ion-card-header"),s.Ob(2,"ion-item",16),s.Kb(3,"ion-icon",17),s.Ob(4,"ion-card-title"),s.nc(5,"Not Verified"),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-card-content"),s.Ob(7,"h1"),s.nc(8," Error verifying"),s.Kb(9,"br"),s.Ob(10,"strong"),s.nc(11),s.Nb(),s.Kb(12,"br"),s.Kb(13,"br"),s.nc(14),s.Nb(),s.Nb(),s.Nb()),2&e){const e=s.Yb();s.zb(11),s.oc(e.verifiedEmail),s.zb(3),s.pc(" ",e.errorMessage," ")}}const f=[{path:"",component:(()=>{class e{constructor(e){this.memberApiService=e,this.emailPattern=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,this.verifiedId=null,this.verifiedEmail=null,this.errorMessage=null}ngOnInit(){}verify(e){return Object(a.a)(this,void 0,void 0,(function*(){this.errorMessage=null,this.verifiedId=null;try{const n=e.target[0].value;this.verifiedEmail=n;const r=yield this.memberApiService.verifyMemberEmail(n).toPromise();console.log(r),r.legionId?(console.log("legionId",r.legionId),this.verifiedId=r.legionId):(console.log("error",r.error),this.errorMessage=r.error)}catch(n){console.log("error caught",n),this.errorMessage=n}}))}}return e.\u0275fac=function(n){return new(n||e)(s.Jb(b.a))},e.\u0275cmp=s.Db({type:e,selectors:[["app-verify"]],decls:23,vars:3,consts:[["color","primary"],["slot","start"],[1,"ion-padding"],[1,"max-480"],["class","good status-card","color","success",4,"ngIf"],["class","bad status-card","color","danger",4,"ngIf"],[3,"submit"],["position","floating"],["autofocus","true","inputmode","email","required","true","type","email",3,"pattern"],[1,"buttons"],["type","submit"],["color","success",1,"good","status-card"],["lines","none","color","success"],["name","shield-checkmark-outline","slot","start"],["color","success",3,"routerLink"],["color","danger",1,"bad","status-card"],["color","danger","lines","none"],["name","alert-circle-outline","slot","start"]],template:function(e,n){1&e&&(s.Ob(0,"ion-header"),s.Ob(1,"ion-toolbar",0),s.Ob(2,"ion-buttons",1),s.Kb(3,"ion-menu-button"),s.Nb(),s.Ob(4,"ion-title"),s.nc(5,"Verify Member"),s.Nb(),s.Nb(),s.Nb(),s.Ob(6,"ion-content",2),s.Ob(7,"div",3),s.lc(8,l,16,5,"ion-card",4),s.lc(9,u,15,2,"ion-card",5),s.Ob(10,"ion-card"),s.Ob(11,"ion-card-content"),s.Ob(12,"ion-card-header"),s.Ob(13,"p"),s.nc(14," The Legion Member API can verify a member is active when passed the member's email address. It returns the TKID associated with the email address. "),s.Nb(),s.Nb(),s.Ob(15,"form",6),s.Wb("submit",(function(e){return n.verify(e)})),s.Ob(16,"ion-item"),s.Ob(17,"ion-label",7),s.nc(18," Email address "),s.Nb(),s.Kb(19,"ion-input",8),s.Nb(),s.Ob(20,"div",9),s.Ob(21,"ion-button",10),s.nc(22," Verify "),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb(),s.Nb()),2&e&&(s.zb(8),s.dc("ngIf",n.verifiedId),s.zb(1),s.dc("ngIf",n.errorMessage),s.zb(10),s.dc("pattern",n.emailPattern))},directives:[o.n,o.I,o.e,o.y,o.H,o.l,t.k,o.f,o.g,o.h,i.e,i.c,i.d,o.r,o.u,o.q,o.M,o.d,o.o,o.j,o.L,c.h],styles:[".max-480[_ngcontent-%COMP%]{max-width:480px}.buttons[_ngcontent-%COMP%]{margin-top:16px;text-align:right}.status-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:0}.status-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:32px 16px;margin:0 8px 8px;border-radius:0 0 4px 4px;text-align:center}"]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(n){return new(n||e)},imports:[[c.j.forChild(f)],c.j]}),e})();r.d(n,"VerifyPageModule",(function(){return g}));let g=(()=>{class e{}return e.\u0275mod=s.Hb({type:e}),e.\u0275inj=s.Gb({factory:function(n){return new(n||e)},imports:[[t.c,i.a,o.J,m]]}),e})()}}]);
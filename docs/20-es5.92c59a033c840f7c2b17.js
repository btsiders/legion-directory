function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,r){return n&&_defineProperties(e.prototype,n),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{UWHZ:function(e,n,r){"use strict";r.r(n);var t=r("ofXK"),i=r("3Pt+"),o=r("TEn/"),a=r("tyNb"),c=r("mrSG"),s=r("4Gbf"),b=r("fXoL"),d=function(e){return["/member",e]};function l(e,n){if(1&e&&(b.Ob(0,"ion-card",11),b.Ob(1,"ion-card-header"),b.Ob(2,"ion-item",12),b.Kb(3,"ion-icon",13),b.Ob(4,"ion-card-title"),b.nc(5," Verified "),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-card-content"),b.Ob(7,"h1"),b.nc(8),b.Kb(9,"br"),b.nc(10," verified as"),b.Kb(11,"br"),b.nc(12),b.Kb(13,"br"),b.Ob(14,"ion-button",14),b.nc(15,"View Profile"),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e){var r=b.Yb();b.zb(8),b.pc(" ",r.verifiedEmail,""),b.zb(4),b.pc(" TKID ",r.verifiedId,""),b.zb(2),b.dc("routerLink",b.fc(3,d,r.verifiedId))}}function u(e,n){if(1&e&&(b.Ob(0,"ion-card",15),b.Ob(1,"ion-card-header"),b.Ob(2,"ion-item",16),b.Kb(3,"ion-icon",17),b.Ob(4,"ion-card-title"),b.nc(5,"Not Verified"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-card-content"),b.Ob(7,"h1"),b.nc(8," Error verifying"),b.Kb(9,"br"),b.Ob(10,"strong"),b.nc(11),b.Nb(),b.Kb(12,"br"),b.Kb(13,"br"),b.nc(14),b.Nb(),b.Nb(),b.Nb()),2&e){var r=b.Yb();b.zb(11),b.oc(r.verifiedEmail),b.zb(3),b.pc(" ",r.errorMessage," ")}}var f,m,p=[{path:"",component:(f=function(){function e(n){_classCallCheck(this,e),this.memberApiService=n,this.emailPattern=/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,this.verifiedId=null,this.verifiedEmail=null,this.errorMessage=null}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"verify",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.errorMessage=null,this.verifiedId=null,n.prev=1,r=e.target[0].value,this.verifiedEmail=r,n.next=6,this.memberApiService.verifyMemberEmail(r).toPromise();case 6:t=n.sent,console.log(t),t.legionId?(console.log("legionId",t.legionId),this.verifiedId=t.legionId):(console.log("error",t.error),this.errorMessage=t.error),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),console.log("error caught",n.t0),this.errorMessage=n.t0;case 13:case"end":return n.stop()}}),n,this,[[1,10]])})))}}]),e}(),f.\u0275fac=function(e){return new(e||f)(b.Jb(s.a))},f.\u0275cmp=b.Db({type:f,selectors:[["app-verify"]],decls:23,vars:3,consts:[["color","primary"],["slot","start"],[1,"ion-padding"],[1,"max-480"],["class","good status-card","color","success",4,"ngIf"],["class","bad status-card","color","danger",4,"ngIf"],[3,"submit"],["position","floating"],["autofocus","true","inputmode","email","required","true","type","email",3,"pattern"],[1,"buttons"],["type","submit"],["color","success",1,"good","status-card"],["lines","none","color","success"],["name","shield-checkmark-outline","slot","start"],["color","success",3,"routerLink"],["color","danger",1,"bad","status-card"],["color","danger","lines","none"],["name","alert-circle-outline","slot","start"]],template:function(e,n){1&e&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar",0),b.Ob(2,"ion-buttons",1),b.Kb(3,"ion-menu-button"),b.Nb(),b.Ob(4,"ion-title"),b.nc(5,"Verify Member"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content",2),b.Ob(7,"div",3),b.lc(8,l,16,5,"ion-card",4),b.lc(9,u,15,2,"ion-card",5),b.Ob(10,"ion-card"),b.Ob(11,"ion-card-content"),b.Ob(12,"ion-card-header"),b.Ob(13,"p"),b.nc(14," The Legion Member API can verify a member is active when passed the member's email address. It returns the TKID associated with the email address. "),b.Nb(),b.Nb(),b.Ob(15,"form",6),b.Wb("submit",(function(e){return n.verify(e)})),b.Ob(16,"ion-item"),b.Ob(17,"ion-label",7),b.nc(18," Email address "),b.Nb(),b.Kb(19,"ion-input",8),b.Nb(),b.Ob(20,"div",9),b.Ob(21,"ion-button",10),b.nc(22," Verify "),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.zb(8),b.dc("ngIf",n.verifiedId),b.zb(1),b.dc("ngIf",n.errorMessage),b.zb(10),b.dc("pattern",n.emailPattern))},directives:[o.n,o.I,o.e,o.y,o.H,o.l,t.k,o.f,o.g,o.h,i.e,i.c,i.d,o.r,o.u,o.q,o.M,o.d,o.o,o.j,o.L,a.h],styles:[".max-480[_ngcontent-%COMP%]{max-width:480px}.buttons[_ngcontent-%COMP%]{margin-top:16px;text-align:right}.status-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:0}.status-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{background-color:#fff;color:#000;padding:32px 16px;margin:0 8px 8px;border-radius:0 0 4px 4px;text-align:center}"]}),f)}],g=((m=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:m}),m.\u0275inj=b.Gb({factory:function(e){return new(e||m)},imports:[[a.j.forChild(p)],a.j]}),m);r.d(n,"VerifyPageModule",(function(){return h}));var x,h=((x=function e(){_classCallCheck(this,e)}).\u0275mod=b.Hb({type:x}),x.\u0275inj=b.Gb({factory:function(e){return new(e||x)},imports:[[t.c,i.a,o.J,g]]}),x)}}]);